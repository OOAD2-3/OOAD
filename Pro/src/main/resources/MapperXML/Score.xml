<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ooad.demo.mapper.ScoreMapper">
    <resultMap id="tab_score" type="com.ooad.demo.entity.Score">
        <result property="seminarId" column="seminar_id"/>
        <result property="teamId" column="team_id"/>
        <result property="roundId" column="round_id"/>
        <result property="presentationScore" column="pre_score"/>
        <result property="reportScore" column="report_score"/>
        <result property="questionScore" column="question_score"/>
        <result property="totalScore" column="total_score"/>
    </resultMap>

    <select id="findByRoundIdAndSeminarIdAndTeamId" parameterType="Integer" resultMap="tab_score" resultType="com.ooad.demo.entity.Score">
        SELECT *
        FROM score
        WHERE round_id=#{roundId}
              AND seminar_id=#{seminarId}
              AND team_id=#{teamId}
    </select>
    <update id="updatePreScore" parameterType="com.ooad.demo.entity.Score">
        update score
        set pre_score=#{presentationScore,jdbcType=FLOAT}
        where round_id=#{roundId}
              and seminar_id=#{seminarId}
              and team_id=#{teamId}
    </update>
    <update id="updateReportScore" parameterType="com.ooad.demo.entity.Score">
        update score
        set report_score=#{reportScore,jdbcType=FLOAT}
        where round_id=#{roundId}
              and seminar_id=#{seminarId}
              and team_id=#{teamId}
    </update>
    <update id="updateQuestionScore" parameterType="com.ooad.demo.entity.Score">
        update score
        set question_score=#{questionScore,jdbcType=FLOAT}
        where round_id=#{roundId}
              and seminar_id=#{seminarId}
              and team_id=#{teamId}
    </update>
    <update id="updateTotalScore" parameterType="com.ooad.demo.entity.Score">
        update score
        set total_score=#{totalScore,jdbcType=FLOAT}
        where round_id=#{roundId}
              and seminar_id=#{seminarId}
              and team_id=#{teamId}
    </update>
</mapper>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ooad.demo.mapper.MenuMapper">
    <resultMap id="tab_menu" type="com.ooad.demo.entity.Menu" >
        <result property="keepAlive" column="keep_alive"/>
        <result property="requireAuth" column="require_auth"/>
        <result property="parentId" column="parent_id"/>
    </resultMap>
    <select id="findAll" resultMap="tab_menu">
        SELECT * FROM menu
    </select>

    <select id="findMenuRoleByMenuId" resultMap="tab_menu">
        SELECT *
        FROM menu m LEFT JOIN menu_role mr
            ON m.id=mr.menu_id
        LEFT JOIN role r
            ON mr.role_id=r.id
        WHERE m.id={menuId}
    </select>


</mapper>